(this.webpackJsonpstartfi_assignment_front_end=this.webpackJsonpstartfi_assignment_front_end||[]).push([[0],[,,,,function(e,t,a){e.exports=a.p+"static/media/swipe.c68f9eaa.gif"},,,,,function(e,t,a){e.exports=a.p+"static/media/loading.20750692.gif"},function(e,t,a){e.exports=a(18)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),i=a.n(r),u=(a(15),a(1)),o=(a(16),a(5)),s=a.n(o),l=a(8);function f(e){var t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate();return a<10&&(a="0".concat(a)),n<10&&(n="0".concat(n)),"".concat(t,"-").concat(a,"-").concat(n)}var d=a(2),m=a(3),p=function(e){var t=e.author,a=e.title,r=e.url,i=e.date,o=e.slideDownHandler,s=Object(n.useState)(0),l=Object(u.a)(s,2),f=l[0],p=l[1],g=Object(n.useState)(0),b=Object(u.a)(g,2),h=b[0],j=b[1],y=Object(n.useRef)(null),O=Object(n.useRef)(null),w=Object(n.useRef)(null);Object(n.useEffect)((function(){d.a.from(y.current,{y:-700,ease:"power3.out"}),d.a.from(O.current,{x:-1200,delay:.5,ease:"circ.out"}),d.a.from(w.current,{x:1500,delay:.3,ease:"circ.out"})}),[]);var E=function(){d.a.to(y.current,{y:-800,delay:.1,ease:"slow(0.7, 0.7, false)"});var e=setTimeout((function(){o(!1),clearTimeout(e)}),300)};return c.a.createElement("div",{className:"picture-container","data-testid":"current-picture-container",ref:y,onTouchEnd:function(){h>0&&E()},onTouchStart:function(e){return function(e){p(e.touches[0].clientY)}(e)},onTouchMove:function(e){return function(e){j(f-e.touches[0].clientY)}(e)}},c.a.createElement("img",{src:r,alt:"picture_of_the_day",className:"img",ref:O,"data-testid":"current-picture"}),c.a.createElement("div",{className:"picture-details",ref:w},c.a.createElement("h2",{"data-testid":"current-picture-title",className:"picture-title"},a),c.a.createElement("h4",{"data-testid":"current-picture-author",className:"picture-author"},t),c.a.createElement("span",null,i)),c.a.createElement(m.d,{size:70,color:"black",onClick:function(){return E()},className:"icon-up"}))},g=a(9),b=a.n(g),h=a(4),j=a.n(h),y=function(e){var t=e.picturesTest,a=void 0===t?null:t,r=Object(n.useState)(null),i=Object(u.a)(r,2),o=i[0],g=i[1],h=Object(n.useState)(0),y=Object(u.a)(h,2),O=y[0],w=y[1],E=Object(n.useState)(0),_=Object(u.a)(E,2),v=_[0],N=_[1],T=Object(n.useState)(0),S=Object(u.a)(T,2),k=S[0],x=S[1],R=Object(n.useState)(!1),C=Object(u.a)(R,2),Y=C[0],D=C[1],z=Object(n.useState)(0),I=Object(u.a)(z,2),J=I[0],M=I[1],F=Object(n.useState)(0),H=Object(u.a)(F,2),W=H[0],X=H[1],Z=Object(n.useState)(0),A=Object(u.a)(Z,2),G=A[0],B=A[1],P=Object(n.useState)(0),U=Object(u.a)(P,2),q=U[0],K=U[1],L=Object(n.useRef)(null),Q=Object(n.useRef)(null),V=Object(n.useRef)(null),$=Object(n.useRef)(null),ee=Object(n.useRef)(null),te=function(){O===o.length-1?(N(O),w(0)):(N(O),w(O+1)),d.a.from(L.current,{x:-800,ease:"circ.out"}),d.a.to(L.current,{x:0,ease:"circ.out"})},ae=function(){0===O?(N(O),w(o.length-1)):(N(O),w(O-1)),d.a.from(L.current,{x:800,ease:"circ.out"}),d.a.to(L.current,{x:0,ease:"circ.out"})},ne=function(){D(!0),x(O)};return Object(n.useEffect)((function(){(a&&g(a),o||a)||(function(e,t){return new Promise(function(){var a=Object(l.a)(s.a.mark((function a(n,c){var r,i,u,o;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=f(e),i=f(t),u="https://api.nasa.gov/planetary/apod?api_key=".concat("p2YUGJ0hZTW3FX5JCfFlpb0Rhmp5tS4IAaNxu2gu","&start_date=").concat(r,"&end_date=").concat(i),o=new Headers({"Content-Type":"application/json"}),a.next=7,fetch(u,{method:"GET",headers:o}).then((function(e){e.status>=200&&e.status<300?n(e.json()):c(e.json())}));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),c(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}())}(new Date("2021-08-20T08:28:41.917Z"),new Date("2021-08-22T08:28:41.917Z")).then((function(e){g(e)})),o&&N(o.length-1))}),[o]),Object(n.useEffect)((function(){if(o){var e=setInterval((function(){return te()}),5e3);window.innerWidth<=768&&(V.current.style.display="block",$.current.style.display="block",Y&&(ee.current.style.display="block",setTimeout((function(){d.a.to(ee.current,{opacity:0,duration:1,ease:"power4.out"})}),2e3)),setTimeout((function(){d.a.to(V.current,{opacity:0,duration:1,ease:"power4.out"}),d.a.to($.current,{opacity:0,duration:1,ease:"power4.out"})}),5e3)),window.innerWidth>768&&(V.current.style.display="none",$.current.style.display="none",ee.current.style.display="none")}return function(){return clearInterval(e)}})),c.a.createElement("div",{className:"App"},o?c.a.createElement("div",{className:"gallery","data-testid":"gallery"},c.a.createElement(m.c,{"data-testid":"right-arrow",size:70,onClick:function(){return te()},className:"icon-left"}),c.a.createElement("div",{className:"gallery-img-container"},c.a.createElement("img",{"data-testid":"img",onTouchEnd:function(){return q<-40&&ne(),G>20&&ae(),void(G<-20&&te())},onTouchStart:function(e){return function(e){M(e.touches[0].clientX),X(e.touches[0].clientY)}(e)},onTouchMove:function(e){return function(e){B(J-e.touches[0].clientX),K(W-e.touches[0].clientY)}(e)},src:o[O].url,alt:"picture_of_the_day",className:"img_gallery",ref:L}),c.a.createElement("img",{src:o[v].url,alt:"picture_of_the_day",className:"img_gallery_bg",ref:Q}),c.a.createElement("img",{src:j.a,alt:"swipe_gif",className:"swipe-left-gif",ref:V}),c.a.createElement("img",{src:j.a,alt:"swipe_gif",className:"swipe-down-gif",ref:$}),c.a.createElement("img",{src:j.a,alt:"swipe_gif",className:"swipe-up-gif",ref:ee})),c.a.createElement(m.b,{"data-testid":"left-arrow",size:70,onClick:function(){return ae()},className:"icon-right"}),c.a.createElement(m.a,{size:70,color:"cccccc",onClick:function(){return ne()},className:"icon-bottom","data-testid":"btn-down"})):c.a.createElement("img",{src:b.a,alt:"placeholder_loading_gif",className:"loading-gif","data-testid":"loading-gif"}),Y?c.a.createElement(p,{author:o[k].copyright,title:o[k].title,url:o[k].url,date:o[k].date,slideDownHandler:D}):null)};i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y,null)),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.49b18b73.chunk.js.map